# введение в Mercurial #

http://ru.wikipedia.org/wiki/Mercurial

# предварительные действия #
  1. регистрируемся на code.google.com используя GMail-аккаунт
  1. переходим в пункт Settings профиля и запоминаем/записываем/копируем в буфер обмена пароль (Your googlecode.com password)

# получение копии внешнего репозитория #
для получения копии внешнего репозитория используется команда `clone`
```
$ hg clone https://maps-by.googlecode.com/hg/ maps-by
requesting all changes
adding changesets
adding manifests
adding file changes
added 5 changesets with 16 changes to 13 files
updating working directory
8 files updated, 0 files merged, 0 files removed, 0 files unresolved
```
проверяем что получилось
```
$ ls
maps-by
```
и переходим в новый репозиторий (остальные действия подразумевают что мы находимся именно там)
```
$ cd maps-by
```

# добавление новых файлов в локальный репозиторий #
для добавления файлов используется команда `add`
```
$ hg add configs/README
```

# перенос внешних изменений в локальный репозиторий #
для получения изменений из "центрального" в локальный репозиторий используется команда `pull`
```
$ hg pull
```
или
```
$ hg pull https://maps-by.googlecode.com/hg
```
после этого локальный репозиторий "знает" о произошедших изменениях, но ещё не применил их к локальным файлам. для этого используем команду `update`
```
$ hg update
```

# коммит изменений в локальный и "центральный" репозиторий #
после того как в файлы были внесены изменения или были добавлены новые файлы, нам необходимо "закоммитить" эти изменения в локальный репозиторий (параметром -m задаём комментарий. например краткое описание внесённых изменений)
```
$ hg commit -m "add readme file"
```
теперь система запомнила текущее состояние и мы в любой момент можем откатится к данной точке используя команду `update`

чтобы результатами нашего труда могли воспользоваться наши коллеги надо опубликовать изменения локального репозитория в центральный используя команду `push`
```
$ hg push https://_USER_:_PASSWORD_@maps-by.googlecode.com/hg/
pushing to https://_USER_:***@maps-by.googlecode.com/hg/
searching for changes
Success.
```
вместо параметра _USER_ подставляем свой аккаунт (для osm.belarus@gmail.com подставляем osm.belarus)
вместо параметра _PASSWORD_ подставляем пароль полученный на шаге регистрации